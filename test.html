<!DOCTYPE html>

<head>
    <script type="text/javascript" src="constants.cs"></script>
    <script type="text/javascript" src="js/vector3.js"></script>
    <script type="text/javascript" src="js/NPC.js"></script>
</head>

<body>
    <table id="npcTable"></table>
    <script>
        var NPC_URLS = ["https://www.cgtrader.com/free-3d-models/character/child/low-poly-cute-chibi-base-mesh-body-model"]
        var NPCs = [];
        NPCs.push(new NPC(NPC_URLS[0]));
        var elements = [];
        var table = document.getElementById("npcTable");

        for (var npc in NPCs) {
            var row = document.createElement("tr");
            var position = document.createElement("td");
            var direction = document.createElement("td");
            row.appendChild(position);
            row.appendChild(direction);

            elements.push({ "position": position, "direction": direction });
            table.appendChild(row);
        }

        setInterval(function () {
            for (var i = 0; i < NPCs.length; i++) {
                var npc = NPCs[i];
                npc.step();
                var row = elements[i];
                row["position"].innerHTML = npc.position.toString();
                row["direction"].innerHTML = npc.direction.toString();
            }
        }, 1000);
    </script>
</body>

</html>
